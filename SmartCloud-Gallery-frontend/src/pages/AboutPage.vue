<template>
  <a-page-header title="æ™ºèƒ½äº‘å›¾åº“ä½¿ç”¨æŒ‡å—" class="guide-container">
    <!-- æ­¥éª¤æ¡ç»„ä»¶ -->
    <a-steps direction="vertical" :current="5">
      <!-- åŠŸèƒ½æ¦‚è§ˆ -->
      <a-step title="æ ¸å¿ƒåŠŸèƒ½">
        <template #description>
          <div class="guide-content">
            <a-row :gutter="16">
              <a-col :span="12">
                <a-card title="å…¬å…±å›¾åº“" size="small" hoverable>
                  <a-space direction="vertical">
                    <a-tag color="green">å…è´¹</a-tag>
                    <a-list size="small">
                      <a-list-item>â€¢ æµè§ˆæ‰€æœ‰å…¬å¼€ä½œå“</a-list-item>
                      <a-list-item>â€¢ ä¸‹è½½/åˆ†äº«é«˜æ¸…åŸå›¾</a-list-item>
                      <a-list-item>â€¢ ä»¥å›¾æœå›¾åŠŸèƒ½</a-list-item>
                      <a-list-item>â€¢ æ”¯æŒAIæ‰©å±•ç”»å¹…</a-list-item>
                    </a-list>
                    <a-button type="primary" size="small" block @click="navigateTo('/add_picture')">
                      ç«‹å³æ¢ç´¢
                    </a-button>
                  </a-space>
                </a-card>
              </a-col>
              <a-col :span="12">
                <a-card title="ç§äººç©ºé—´" size="small" hoverable>
                  <a-space direction="vertical">
                    <a-tag color="blue">ä¸“å±</a-tag>
                    <a-list size="small">
                      <a-list-item>â€¢ ä»…è‡ªå·±å¯è§çš„å›¾ç‰‡</a-list-item>
                      <a-list-item>â€¢ é«˜çº§æ‰¹é‡ç®¡ç†</a-list-item>
                      <a-list-item>â€¢ å¤šç»´æ™ºèƒ½æœç´¢</a-list-item>
                      <a-list-item>â€¢ æ‰“é€ ä¸ªäººç›¸å†Œ/ç½‘ç›˜</a-list-item>
                    </a-list>
                    <a-button type="primary" size="small" block @click="navigateTo('/my_space')">
                      è¿›å…¥ç©ºé—´
                    </a-button>
                  </a-space>
                </a-card>
              </a-col>
            </a-row>
          </div>
        </template>
      </a-step>

      <!--ç‰¹è‰²åŠŸèƒ½-->
      <a-step title="ç‰¹è‰²åŠŸèƒ½">
        <template #description>
          <div class="guide-content">
            <a-row :gutter="16">
              <a-col :span="8">
                <a-card hoverable size="small" title="ä»¥å›¾æœå›¾">
                  <a-typography-text type="secondary">ä¸Šä¼ å›¾ç‰‡æŸ¥æ‰¾ç›¸ä¼¼ä½œå“</a-typography-text>
                </a-card>
              </a-col>
              <a-col :span="8">
                <a-card hoverable size="small" title="AIæ‰©å›¾">
                  <a-typography-text type="secondary">æ™ºèƒ½æ‰©å±•å›¾ç‰‡ç”»å¹…</a-typography-text>
                </a-card>
              </a-col>
              <a-col :span="8">
                <a-card hoverable size="small" title="æ‰¹é‡ç¼–è¾‘">
                  <a-typography-text type="secondary">åŒæ—¶ä¿®æ”¹å¤šå›¾å…ƒæ•°æ®</a-typography-text>
                </a-card>
              </a-col>
            </a-row>
          </div>
        </template>
      </a-step>

      <!-- ä¸Šä¼ æµç¨‹ -->
      <a-step title="å›¾ç‰‡ä¸Šä¼ æŒ‡å—">
        <template #description>
          <div class="guide-content">
            <a-tabs>
              <a-tab-pane key="1" tab="å…¬å…±å›¾åº“ä¸Šä¼ ">
                <a-space direction="vertical" size="middle">
                  <a-steps direction="vertical" size="small">
                    <a-step status="process" title="åˆ›å»ºå›¾ç‰‡">
                      <template #description>
                        <div class="step-detail">
                          <a-space direction="vertical">
                            <a-typography-text type="secondary"
                              >æ”¯æŒæ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ </a-typography-text
                            >
                            <a-button
                              type="dashed"
                              size="small"
                              @click="navigateTo('/add_picture')"
                            >
                              ä¸Šä¼ å›¾ç‰‡
                            </a-button>
                          </a-space>
                        </div>
                      </template>
                    </a-step>
                    <a-step status="process" title="ç¼–è¾‘å¤„ç†ï¼ˆå¯é€‰ï¼‰">
                      <template #description>
                        <div class="step-detail">
                          <a-space>
                            <a-button size="small" :icon="h(EditOutlined)">ç¼–è¾‘å›¾ç‰‡</a-button>
                            <a-button type="primary" size="small" :icon="h(FullscreenOutlined)"
                              >AIæ‰©å›¾</a-button
                            >
                          </a-space>
                          <a-typography-text type="secondary" class="step-hint">
                            å¯è°ƒæ•´å›¾ç‰‡å°ºå¯¸ã€æ»¤é•œå’Œç”»è´¨
                          </a-typography-text>
                        </div>
                      </template>
                    </a-step>
                    <a-step status="process" title="å¡«å†™ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰">
                      <template #description>
                        <div class="step-detail">
                          <a-form layout="vertical" size="small" class="form-container">
                            <a-form-item label="æ ‡é¢˜">
                              <a-input placeholder="ç®€æ´æè¿°ä½œå“å†…å®¹" />
                            </a-form-item>
                            <a-form-item label="ç®€ä»‹">
                              <a-textarea placeholder="è¯¦ç»†æè¿°ä½œå“èƒŒæ™¯ã€ç‰¹ç‚¹ç­‰" />
                            </a-form-item>
                            <a-form-item label="åˆ†ç±»">
                              <a-select
                                mode="tags"
                                placeholder="å¡«å†™åˆ†ç±»(å¯é€‰)"
                                style="width: 100%"
                              />
                            </a-form-item>
                            <a-form-item label="æ ‡ç­¾">
                              <a-select
                                mode="tags"
                                placeholder="å¡«å†™æ ‡ç­¾(å¯é€‰)"
                                style="width: 100%"
                              />
                            </a-form-item>
                          </a-form>
                        </div>
                      </template>
                    </a-step>
                    <a-step status="wait" title="ç­‰å¾…å®¡æ ¸">
                      <template #description>
                        <div class="step-detail">
                          <a-alert type="info" message="ç®¡ç†å‘˜å°†åœ¨1-3å·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸" show-icon />
                          <a-typography-text type="secondary" class="step-hint">
                            å®¡æ ¸é€šè¿‡åä½œå“å°†å±•ç¤ºåœ¨å…¬å…±å›¾åº“
                          </a-typography-text>
                        </div>
                      </template>
                    </a-step>
                  </a-steps>
                  <a-button type="primary" size="middle" block @click="navigateTo('/add_picture')">
                    å¼€å§‹ä¸Šä¼ å›¾ç‰‡
                  </a-button>
                </a-space>
              </a-tab-pane>

              <a-tab-pane key="2" tab="ç§äººç©ºé—´ä¸Šä¼ ">
                <a-space direction="vertical" size="middle">
                  <a-alert type="info" message="ä¸Šä¼ æµç¨‹ä¸å…¬å…±å›¾åº“ç›¸åŒï¼Œä½†æ— éœ€å®¡æ ¸" show-icon />
                  <a-list size="small" bordered>
                    <a-list-item>
                      <template #actions> </template>
                      <a-typography-text strong>æ‰¹é‡æ“ä½œï¼š</a-typography-text>
                      æ”¯æŒåŒæ—¶ç¼–è¾‘å¤šå¼ å›¾ç‰‡çš„å…ƒä¿¡æ¯
                    </a-list-item>
                    <a-list-item>
                      <template #actions> </template>
                      <a-typography-text strong>æ™ºèƒ½æœç´¢ï¼š</a-typography-text>
                      å¯æŒ‰é¢œè‰²ã€å°ºå¯¸ã€æ—¥æœŸç­‰å¤šç»´åº¦ç­›é€‰
                    </a-list-item>
                    <a-list-item>
                      <template #actions> </template>
                      <a-typography-text strong>ç©ºé—´åˆ†æï¼š</a-typography-text>
                      å¯è§†åŒ–ç»Ÿè®¡å­˜å‚¨æƒ…å†µå’Œå†…å®¹åˆ†å¸ƒ
                    </a-list-item>
                  </a-list>
                  <a-button type="primary" size="middle" block @click="navigateTo('/my_space')">
                    å‰å¾€ç§äººç©ºé—´ä¸Šä¼ 
                  </a-button>
                </a-space>
              </a-tab-pane>
            </a-tabs>
          </div>
        </template>
      </a-step>

      <!-- æƒé™ç®¡ç† -->
      <a-step title="æƒé™è¯´æ˜">
        <template #description>
          <div class="guide-content">
            <a-table
              :columns="permissionColumns"
              :data-source="permissionData"
              size="small"
              :pagination="false"
              bordered
            >
              <template #bodyCell="{ column, record }">
                <template v-if="column.key === 'operation'">
                  <a-space>
                    <a-button v-if="record.share" type="primary" size="small"> ä»¥å›¾æœå›¾ </a-button>
                    <a-button
                      v-if="record.share"
                      :icon="h(ShareAltOutlined)"
                      type="primary"
                      size="small"
                    >
                      åˆ†äº«
                    </a-button>
                    <a-button v-if="record.share" type="primary" size="small"> å…è´¹ä¸‹è½½ </a-button>
                    <a-button
                      v-if="record.edit"
                      :icon="h(EditOutlined)"
                      type="default"
                      size="small"
                    >
                      ç¼–è¾‘
                    </a-button>
                    <a-button v-if="record.delete" :icon="h(DeleteOutlined)" size="small" danger>
                      åˆ é™¤
                    </a-button>
                  </a-space>
                </template>
                <template v-else-if="column.key === 'access'">
                  <a-tag :color="record.public ? 'green' : 'blue'">
                    {{ record.public ? 'å…¬å¼€' : 'ç§æœ‰' }}
                  </a-tag>
                </template>
              </template>
            </a-table>
          </div>
        </template>
      </a-step>
    </a-steps>

    <!-- æŠ€æœ¯æ”¯æŒ -->
    <a-divider />
    <div class="footer-actions">
      <!--      <a-button type="primary" @click="externalLink('https://fenlifang.top')"> è”ç³»æˆ‘ </a-button>-->
      <a-button type="link" @click="externalLink('https://gitee.com/gyx915/smart-cloud-gallery')">
        æºç ğŸ”—Gitee
      </a-button>
    </div>
  </a-page-header>
</template>

<script setup>
import { useRouter } from 'vue-router'
import { h } from 'vue'
import {
  DeleteOutlined,
  EditOutlined,
  FullscreenOutlined,
  ShareAltOutlined,
} from '@ant-design/icons-vue'

const router = useRouter()

// è·¯ç”±è·³è½¬
const navigateTo = (path) => {
  router.push(path)
}

// å¤–éƒ¨é“¾æ¥è·³è½¬
const externalLink = (url) => {
  window.open(url, '_blank')
}

// æƒé™è¡¨æ ¼æ•°æ®
const permissionColumns = [
  { title: 'èµ„æºç±»å‹', dataIndex: 'type', key: 'type', width: '35%' },
  { title: 'è®¿é—®æƒé™', key: 'access', width: '25%' },
  { title: 'æ”¯æŒæ“ä½œ', key: 'operation', width: '40%' },
]

const permissionData = [
  {
    key: '1',
    type: 'å…¬å…±å›¾åº“ä½œå“',
    public: true,
    edit: false,
    delete: false,
    share: true,
  },
  {
    key: '2',
    type: 'è‡ªå·±ä¸Šä¼ çš„å…¬å¼€ä½œå“',
    public: true,
    edit: true,
    delete: true,
    share: true,
  },
  {
    key: '3',
    type: 'ç§äººç©ºé—´ä½œå“',
    public: false,
    edit: true,
    delete: true,
    share: true,
  },
]
</script>

<style scoped>
.guide-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
}

.guide-content {
  padding: 16px;
  background: #fafafa;
  border-radius: 8px;
  margin-bottom: 16px;
}

.step-detail {
  margin-top: 8px;
  padding-left: 16px;
}

.step-hint {
  display: block;
  margin-top: 8px;
  font-size: 12px;
}

.form-container {
  background: #fff;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid #f0f0f0;
}

.footer-actions {
  text-align: center;
  margin-top: 24px;
}

:deep(.ant-steps-item-description) {
  min-height: 60px;
}

:deep(.ant-list-item) {
  padding: 8px 0;
}

/* è°ƒæ•´æŒ‰é’®å†…å›¾æ ‡ä¸æ–‡å­—çš„é—´è· */
:deep(.ant-btn .anticon + span) {
  margin-left: 4px; /* è°ƒæ•´ä¸ºåˆé€‚çš„é—´è· */
}
</style>
